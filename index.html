<!DOCTYPE html>
<html>
	<head>
		<style>
			html,
			body {
				font-family: Arial, sans-serif;
				height: 100%;
				margin: 0;
				padding: 0;
			}
			#map {
				height: 100%;
			}

			
		</style>
	</head>
	<body>
		<div class="container">
			<div class="options-box">
				<h1>Little Rock Places to Go</h1>
				<div>
					<input id="show-places" type="button" value="Show Places">
					<input id="hide-places" type="button" value="Hide Places">
				</div>
			</div>
		</div>
		<div id="map"></div>
		<script>
			var map;

			var markers = [];

			function initMap() {
				//Constructor creates a new map - only center and zoom are required
				map = new google.maps.Map(document.getElementById('map'), {
					center: {lat: 34.746481, lng: -92.289595},
					zoom: 13
				});

				var locations = [
				{title: 'William J. Clinton Presidential Library', location: {lat:34.746421, lng:-92.25839}},
				{title: 'Old Mill', location: {lat:34.791693, lng:-92.249397}},
				{title: 'Heifer International', location: {lat: 34.744813, lng:-92.256216}},
				{title: 'Museum of Discovery', location: {lat:34.747532, lng:-92.264497 }},
				{title: 'Little Rock Central High School', location: {lat:34.7368, lng:-92.298687}},
				{title: 'Robinson Music Hall', location: {lat:34.749182, lng:-92.274445}},
				{title: 'Little Rock Zoo', location: {lat:34.747027, lng:-92.33019}}
				];

				var largeInfowindow = new google.maps.InfoWindow();

				for (var i= 0; i < locations.length; i++) {
						var position = locations[i].location;
						var title = locations[i].title;

						var marker = new google.maps.Marker({
								position: position,
								title: title,
								animation: google.maps.Animation.DROP,
								id: i
						});

						markers.push(marker);
					

					marker.addListener('click', function() {
						populateInfoWindow(this, largeInfowindow);
					});
				}
	

				document.getElementById('show-places').addEventListener('click', showListings);
				document.getElementById('hide-places').addEventListener('click', hideListings);


			}


						function populateInfoWindow(marker,infowindow) {
					if (infowindow.marker != marker) {
						infowindow.marker = marker;
						infowindow.setContent('<div>'+ marker.title + '</div>');
						infowindow.open(map, marker);

						infowindow.addListener('closeclick', function(){
							infowindow.setMarker(null);
						});
					}

				}

				function showListings() {
				var bounds = new google.maps.LatLngBounds();

				for (var i=0; i < markers.length; i++) {
					markers[i].setMap(map);
					//extend the boundaries of the map for each marker
					bounds.extend(markers[i].position);
				}

				map.fitBounds(bounds);
			}

		function hideListings(){
			for (var i = 0; i < markers.length; i++) {
				markers[i].setMap(null);
			}
		}

			
		</script>
		<script async defer
			src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC7-3H_wcBGB_rt9OtveSfSWor0_i8UJW0&v=3&callback=initMap">
		</script>

	</body>
</html>
